<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>炫图</title>
		<link rel="stylesheet" href="css/reset.css" />
		<style type="text/css">
			body{background: #000;}
			#box{position: relative; width: 133px; height: 200px; margin: 150px auto; transform-style: preserve-3d; transform: perspective(800px) rotateX(-10deg);}
			#box li{position: absolute; left: 0; top: 0; width: 133px; height: 200px; box-shadow: 0 0 20px #fff; border-radius: 10px; overflow: hidden; transition: 1s all ease;}
			#box li img{width: 133px; height: 200px;}
		</style>
		<script type="text/javascript">
		//-webkit-box-reflect:方向(left、right、below下、above上)、间距(px、%)、-webkit-linear-gradient()
			window.onload=function(){
				var oBox=document.getElementById("box");
				var aLi=oBox.children;
				var len=aLi.length;
				var speedX=0;
				var speedY=0;
				var lastX=0;
				var lastY=0;
				//第一种
				for(var i=0;i<len;i++){
					aLi[i].style.transition="1s all ease "+200*(len-1)+"ms";
					aLi[i].style.transform="rotateY("+360/len*i+"deg) translateZ(400px)";
				}
				//第二种
//				var i=len-1;
//				var timer=setInterval(function(){
//					aLi[i].style.transform="rotateY("+360/len*i+"deg) translateZ(400px)";
//					i--;
//					if(i<0){
//						clearInterval(timer);
//					}
//				},200)
				var x=-150;//改变Y轴方向
				var y=0;//改变X轴方向
				document.onmousedown=function(ev){
					var disX=ev.clientX-y;
					var disY=ev.clientY-x;
					document.onmousemove=function(ev){
						x=ev.clientY-disY;
						y=ev.clientX-disX;
						oBox.style.transform="perspective(800px) rotateX("+x/10+"deg) rotateY("+y/10+"deg)";
					}
					document.onmouseup=function(){
						document.onmousemove=document.onmouseup=null;
					}
					return false;
				}
				var bL=bR=bT=bB=false;				
				setInterval(function(){
					if(bL){
						y-=10;						
					}
					if(bT){
						x+=10;
					}
					if(bR){
						y+=10;
					}
					if(bB){
						x-=10;						
					}					
					oBox.style.transform="perspective(800px) rotateX("+x/10+"deg) rotateY("+y/10+"deg)";
					if(x>=600){
						x=600;
					}else if(x<=-600){
						x=-600;
					}
				},30);
				document.onkeydown=function(ev){
					var keyCode=ev.keyCode;
					if(keyCode==37){
						bL=true;
					}
					if(keyCode==38){
						bT=true;
					}
					if(keyCode==39){
						bR=true;
					}
					if(keyCode==40){
						bB=true;
					}					
				}
				document.onkeyup=function(ev){
					var keyCode=ev.keyCode;
					if(keyCode==37){
						bL=false;
					}
					if(keyCode==38){
						bT=false;
					}
					if(keyCode==39){
						bR=false;
					}
					if(keyCode==40){
						bB=false;
					}					
				}
			}
		</script>
	</head>
	<body>
		<ul id="box">
			<li><img src="img/1.jpg" alt="" /></li>
			<li><img src="img/2.jpg" alt="" /></li>
			<li><img src="img/3.jpg" alt="" /></li>
			<li><img src="img/4.jpg" alt="" /></li>
			<li><img src="img/5.jpg" alt="" /></li>
			<li><img src="img/6.jpg" alt="" /></li>
			<li><img src="img/7.jpg" alt="" /></li>
			<li><img src="img/8.jpg" alt="" /></li>
			<li><img src="img/9.jpg" alt="" /></li>
			<li><img src="img/10.jpg" alt="" /></li>
			<li><img src="img/11.jpg" alt="" /></li>
		</ul>		
	</body>
</html>
